import{r as l,j as p,a as d}from"./app-8ae939f7.js";import{N as f}from"./NabBar2-f96c8c20.js";import w from"./Footer-a58c8e13.js";import"./bell-6fd89589.js";import"./headerlogo-80979cd7.js";import"./index-25f795cb.js";if(typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");(function(e,a,n,r,t,o){o=a.createElement("script"),o.async=1,o.src="https://cdn.talkjs.com/talk.js",a.head.appendChild(o),r=e.Promise,e.Talk={v:3,ready:{then:function(s){if(r)return new r(function(m,i){n.push([s,m,i])});n.push([s])},catch:function(){return r&&new r},c:n}}})(window,document,[]);var c=window.Talk;const k=({auth:e})=>{const a=l.useRef(null),[n,r]=l.useState(!1);return l.useEffect(()=>{c.ready.then(()=>r(!0)).catch(t=>{console.error("Error loading TalkJS:",t)})},[]),l.useEffect(()=>{if(n&&e.user){const t=new c.User({id:e.user.id,name:e.user.first_name,email:e.user.email,photoUrl:e!=null&&e.user?"/storage/"+e.user.image:"N/A",welcomeMessage:"Hello!",role:"default"}),o=new c.User({id:"1",name:"Admin",email:"admin@example.com",photoUrl:"https://www.pngall.com/wp-content/uploads/5/User-Profile-PNG-Image.png",welcomeMessage:"Hello!",role:"default"}),s=new c.Session({appId:"txSJO2gM",me:t}),m=c.oneOnOneId(t,o),i=s.getOrCreateConversation(m);return i.setParticipant(t),i.setParticipant(o),s.createInbox({selected:i}).mount(a.current),()=>s.destroy()}},[n]),p("div",{children:[d(f,{auth:e}),!(e!=null&&e.user)&&d("div",{style:{width:"100%",height:"43vh"},className:"text-4xl flex items-center justify-center animate-bounce ",children:"Please login first!"}),e.user&&d("div",{className:"mt-3",ref:a,style:{width:"100%",height:"500px"}}),d(w,{auth:e})]})};export{k as default};
