import{r,W as D,j as e}from"./app-ab08e8ee.js";import{I as d}from"./InputLabel-875fce3f.js";import{N as O}from"./NabBar2-8b165ddc.js";import q from"./Footer-4af20c73.js";import{U as G}from"./user-icon-4fd58570.js";import{T as c}from"./TextInput-0a4b9de6.js";import{I as m}from"./InputError-97cd178b.js";import"./bell-6fd89589.js";import"./headerlogo-80979cd7.js";import"./index-e9a6f4f3.js";function oe({auth:a,success:x,errors:n,error:p}){var P,E,F,L;const u=r.useRef(),h=r.useRef(),[I,f]=r.useState(!1),[U,j]=r.useState(!1),[z,w]=r.useState(!1),[B,g]=r.useState(!1);r.useState(!1);const[R,N]=r.useState(!1);r.useState(!1);const[v,W]=r.useState(""),[b,T]=r.useState("");r.useEffect(()=>{x&&W(x),p&&T(p)},[]);const[y,C]=r.useState(""),[V,k]=r.useState(!1),{data:l,setData:t,post:_,put:J,reset:i,processing:K,recentlySuccessful:Q}=D({first_name:a.user.first_name||"",last_name:a.user.last_name||"",phone_no:a.user.phone_no||"",address:a.user.address||"",city:a.user.city||"",state:a.user.state||"",email:a.user.email||"",image:a.user.image||"",current_password:"",password:"",password_confirmation:""});r.useEffect(()=>{C("/storage/"+l.image)},[]);function H(s){C(URL.createObjectURL(s.target.files[0])),k(!0),t("image",s.target.files[0])}function o(){_(route("user.updateProfile")),k(!1)}function S(){_(route("user.updatePassword"),{preserveScroll:!0,onSuccess:()=>i(),onError:s=>{var M,A;s.password&&(i("password","password_confirmation"),(M=h.current)==null||M.focus()),s.current_password&&(i("current_password"),(A=u.current)==null||A.focus())}})}return e.jsxs("div",{children:[e.jsx(O,{auth:a}),e.jsx("div",{className:"mx-auto max-w-screen-xl w-full h-full mt-10 ",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 mt-7 p-4",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-black text-gray-950 text-2xl",children:"Edit Profile"}),v&&e.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[v,e.jsx("button",{className:"btn-close",type:"button","data-bs-dismiss":"alert","aria-label":"Close"})]}),b&&e.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[b,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),e.jsxs("p",{className:"text-gray-600 text-xl",children:["Hello ",e.jsx("strong",{children:(P=a.user)==null?void 0:P.first_name}),", where do you want to apply the changes?"]}),e.jsxs("form",{className:"row g-3",method:"post",encType:"multipart/form-data",children:[e.jsxs("div",{className:"flex flex-col items-start mt-4 relative transform hover:scale-110 transition-all duration-200",children:[e.jsx("input",{className:"absolute top-0 left-0 w-full h-full opacity-0 z-10",type:"file",name:"image",onChange:H}),e.jsx("img",{src:y||G,className:"w-80 h-80 object-cover shadow-md hover:shadow-lg rounded",alt:"Profile Picture"})]}),V&&e.jsx("div",{className:"flex col-12",children:e.jsx("button",{type:"button",onClick:()=>o(),className:"text-center underline py-2 px-3 bg-green-500 rounded text-white",children:"Upload Photo Now"})})]})]}),U?e.jsx("div",{className:"mt-3 border p-4",children:e.jsxs("form",{className:"row g-3",method:"post",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"Edit Profile Name "}),e.jsx("label",{children:"First Name "}),e.jsx("input",{type:"text",name:"first_name",className:"border border-gray-300 p-1 mt-1",value:l.first_name,onChange:s=>t("first_name",s.target.value)}),e.jsx("label",{children:"Last Name "}),e.jsx("input",{type:"text",id:"profile",className:"border border-gray-300 p-1 mt-1",value:l.last_name,onChange:s=>t("last_name",s.target.value)})]}),e.jsxs("div",{className:"flex justify-between w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>o(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>j(!1),children:"Cancel Change"})]})]})}):e.jsxs("div",{className:"flex flex-wrap justify-between mt-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),e.jsx("p",{className:"text-gray-950",children:"Profile Name"})]}),e.jsx("p",{className:"mx-4",children:a&&a.user?((E=a.user)==null?void 0:E.first_name)+" "+((F=a.user)==null?void 0:F.last_name):""})]}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>j(!0),children:"Edit Profile"})]}),e.jsx("hr",{className:"bg-gray-800 mt-3"}),z?e.jsx("div",{className:"mt-3 border p-4",children:e.jsxs("form",{className:"row g-3",method:"post",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"Edit Email Address"}),e.jsx("input",{className:"border border-gray-300 p-2 mt-1",value:l.email,onChange:s=>t("email",s.target.value)})]}),e.jsxs("div",{className:"flex justify-between w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>o(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>w(!1),children:"Cancel Change"})]})]})}):e.jsxs("div",{className:"flex flex-wrap justify-between mt-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),e.jsx("p",{className:"text-gray-950",children:"Email Address"})]}),e.jsx("p",{className:"mx-4",children:a&&a.user?a.user.email:""})]}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>w(!0),children:"Edit Profile"})]}),e.jsx("hr",{className:"bg-gray-800 mt-3"}),B?e.jsx("div",{className:"mt-3 border p-4",children:e.jsxs("form",{className:"row g-3",method:"post",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"Edit Phone Number"}),e.jsx("input",{value:l.phone_no,onChange:s=>t("phone_no",s.target.value),className:"border border-gray-300 p-2 mt-1"})]}),e.jsxs("div",{className:"flex justify-between w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>o(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>g(!1),children:"Cancel Change"})]})]})}):e.jsxs("div",{className:"flex flex-wrap justify-between mt-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),e.jsx("p",{className:"text-gray-950",children:"Phone Number"})]}),e.jsx("p",{className:"mx-4",children:a&&a.user?a.user.phone_no:""})]}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>g(!0),children:"Edit Profile"})]}),e.jsx("hr",{className:"bg-gray-800 mt-3"}),R?e.jsx("div",{className:"mt-3 border p-4",children:e.jsxs("form",{className:"row g-3",method:"post",onSubmit:o,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"Edit Address"}),e.jsx("input",{className:"border border-gray-300 p-2 mt-1",value:l.address,onChange:s=>t("address",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"City"}),e.jsx("input",{className:"border border-gray-300 p-2 mt-1",value:l.city,onChange:s=>t("city",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:"State"}),e.jsx("input",{className:"border border-gray-300 p-2 mt-1",value:l.state,onChange:s=>t("state",s.target.value)})]}),e.jsxs("div",{className:"flex justify-between w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>o(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>N(!1),children:"Cancel Change"})]})]})}):e.jsxs("div",{className:"flex flex-wrap justify-between mt-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),e.jsx("p",{className:"text-gray-950",children:"Address "})]}),e.jsx("p",{className:"mx-4",children:a&&a.user?a.user.address:""})]}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>N(!0),children:"Edit Profile"})]})]}),e.jsx("div",{className:"col-span-12 md:col-span-6 mt-5",children:e.jsx("div",{className:"flex flex-col mx-3 h-5/6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-950 mb-3",children:"Security:"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:(L=a.user)==null?void 0:L.first_name}),", here is your account security:"]}),e.jsx("hr",{className:"bg-gray-800 mt-3"}),I?e.jsx("div",{className:"mt-3",children:e.jsxs("form",{onSubmit:S,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"current_password",value:"Current Password"}),e.jsx(c,{id:"current_password",ref:u,value:l.current_password,onChange:s=>t("current_password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e.jsx(m,{message:n.current_password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password",value:"New Password"}),e.jsx(c,{id:"password",ref:h,value:l.password,onChange:s=>t("password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e.jsx(m,{message:n.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsx(c,{id:"password_confirmation",value:l.password_confirmation,onChange:s=>t("password_confirmation",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e.jsx(m,{message:n.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-between w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>S(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>f(!1),children:"Cancel Change"})]})]})}):e.jsxs("div",{className:"flex flex-wrap justify-between mt-3",children:[e.jsx("p",{children:"Password"}),e.jsx("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>f(!0),children:"Change Password"})]})]})})})]})}),e.jsx(q,{})]})}export{oe as default};
