import{r as d,j as t,F as E,a as e,b as P,d as g}from"./app-0290a7fe.js";import{L as U}from"./Layout-8241d4a6.js";import{d as w}from"./index-43e83bd4.js";import{M as j}from"./Modal-0368f50a.js";import"./transition-b2aaae54.js";const B=({auth:i,users:o,success:c,error:r})=>{const[m,y]=d.useState(1),[h,v]=d.useState([]),[C,l]=d.useState(!1),[b,M]=d.useState(null),[p,x]=d.useState(""),[u,S]=d.useState(""),n=10;d.useEffect(()=>{v(o)},[o]);const N=m*n,k=N-n,D=h.slice(k,N),I=a=>{y(a)},f=(a,s)=>{w.Inertia.get(route("admin.users.status",{id:a,status:s}))},A=a=>{M(a),l(!0)},L=()=>{b!==null&&w.Inertia.delete(route("admin.users.destroy",b)),l(!1)};return d.useEffect(()=>{c&&x(c),r&&S(r)},[]),t(E,{children:[e(P,{title:"User | List"}),t("div",{className:"container-fluid",children:[p&&t("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[p,e("button",{className:"btn-close",type:"button","data-bs-dismiss":"alert","aria-label":"Close"})]}),u&&t("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[u,e("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),e("h1",{className:"h3 mb-2 text-gray-800",children:"Users"}),t("div",{className:"card shadow mb-4",children:[t("div",{className:"card-header py-3 d-flex justify-content-between",children:[t("h6",{className:"m-0 font-weight-bold text-primary",children:[" ","User List"," "]}),e(g,{href:route("admin.users.create"),className:"btn btn-primary",children:"Add User"})]}),t("div",{className:"card-body",children:[e("div",{className:"table-responsive",children:t("table",{className:"table table-bordered",children:[e("thead",{children:t("tr",{children:[e("th",{children:"First Name"}),e("th",{children:"Last Name"}),e("th",{children:"Email"}),e("th",{children:"Phone"}),e("th",{children:"Status"}),e("th",{children:"Action"})]})}),e("tbody",{children:D.map(a=>t("tr",{children:[e("td",{children:a==null?void 0:a.first_name}),e("td",{children:a==null?void 0:a.last_name}),e("td",{children:a==null?void 0:a.email}),e("td",{children:a==null?void 0:a.phone_no}),e("td",{children:t("div",{className:"dropdown mb-4",children:[e("button",{className:`btn btn-${a&&a.status&&a.status===1?"success":"danger"} dropdown-toggle`,type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:a&&a.status&&a.status===1?"Active":"Deactive"}),t("div",{className:"dropdown-menu animated--fade-in","aria-labelledby":"dropdownMenuButton",children:[e("button",{className:"dropdown-item",onClick:()=>f(a.id,1),children:"Active"}),e("button",{className:"dropdown-item",onClick:()=>f(a.id,0),children:"Deactive"})]})]})}),e("td",{children:t("div",{className:"dropdown mb-4",children:[e("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Action"}),t("div",{className:"dropdown-menu animated--fade-in","aria-labelledby":"dropdownMenuButton",children:[e(g,{className:"dropdown-item",href:route("admin.users.edit",a.id),children:"Edit"}),e("button",{onClick:()=>A(a.id),className:"dropdown-item",children:"Delete"})]})]})})]},a.id))})]})}),e("div",{className:"d-flex justify-content-center",children:e("ul",{className:"pagination",children:Array(Math.ceil(h.length/n)).fill(0).map((a,s)=>e("li",{className:`page-item ${m===s+1?"active":""}`,children:e("button",{className:"page-link",onClick:()=>I(s+1),children:s+1})},s))})})]})]})]}),C&&e(j,{show:!0,onClose:()=>l(!1),children:e("div",{className:"modal-dialog",children:t("div",{className:"modal-content border-0",children:[t("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Confirm Delete"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:"Are you sure you want to delete?"}),t("div",{className:"modal-footer",children:[e("button",{className:"btn btn-danger",onClick:L,children:"Yes"}),e("button",{className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"})]})]})})})]})};B.layout=i=>e(U,{children:i});export{B as default};
