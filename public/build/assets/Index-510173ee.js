import{r as n,j as a,F as U,a as e,b as E,d as y}from"./app-175e8514.js";import{L as P}from"./Layout-0b1535c5.js";import{d as o}from"./index-558f4f74.js";import{M as j}from"./Modal-8ecec84a.js";import"./user-icon-4fd58570.js";import"./headerlogo-23388e30.js";import"./transition-58a8053a.js";const F=({auth:s,users:c,success:r,error:m})=>{const[h,v]=n.useState(1),[b,C]=n.useState([]),[M,l]=n.useState(!1),[p,A]=n.useState(null),[N,x]=n.useState(""),[f,S]=n.useState(""),i=10;n.useEffect(()=>{C(c)},[c]);const g=h*i,k=g-i,I=b.slice(k,g),D=t=>{v(t)},u=(t,d)=>{o.Inertia.get(route("admin.users.status",{id:t,status:d}))},w=(t,d)=>{o.Inertia.get(route("admin.users.role",{id:t,role:d}))},B=t=>{A(t),l(!0)},L=()=>{p!==null&&o.Inertia.delete(route("admin.users.destroy",p)),l(!1)};return n.useEffect(()=>{r&&x(r),m&&S(m)},[]),a(U,{children:[e(E,{title:"User | List"}),a("div",{className:"container-fluid",children:[N&&a("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[N,e("button",{className:"btn-close",type:"button","data-bs-dismiss":"alert","aria-label":"Close"})]}),f&&a("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[f,e("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),e("h1",{className:"h3 mb-2 text-gray-800",children:"Users"}),a("div",{className:"card shadow mb-4",children:[a("div",{className:"card-header py-3 d-flex justify-content-between",children:[a("h6",{className:"m-0 font-weight-bold text-primary",children:[" ","User List"," "]}),e(y,{href:route("admin.users.create"),className:"btn btn-primary",children:"Add User"})]}),a("div",{className:"card-body",children:[e("div",{className:"table-responsive",children:a("table",{className:"table table-bordered",children:[e("thead",{children:a("tr",{children:[e("th",{children:"First Name"}),e("th",{children:"Last Name"}),e("th",{children:"Email"}),e("th",{children:"Phone"}),e("th",{children:"City"}),e("th",{children:"State"}),e("th",{children:"Address"}),e("th",{children:"Status"}),e("th",{children:"Roles"}),e("th",{children:"Action"})]})}),e("tbody",{children:I.map(t=>a("tr",{children:[e("td",{children:t==null?void 0:t.first_name}),e("td",{children:t==null?void 0:t.last_name}),e("td",{children:t==null?void 0:t.email}),e("td",{children:t==null?void 0:t.phone_no}),e("td",{children:t==null?void 0:t.city}),e("td",{children:t==null?void 0:t.state}),e("td",{children:t==null?void 0:t.address}),e("td",{children:a("div",{className:"dropdown mb-4",children:[e("button",{className:`btn btn-${t&&t.status&&t.status=="1"?"success":"danger"} dropdown-toggle`,type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t&&t.status&&t.status=="1"?"Active":"Deactive"}),a("div",{className:"dropdown-menu animated--fade-in","aria-labelledby":"dropdownMenuButton",children:[e("button",{className:"dropdown-item",onClick:()=>u(t.id,1),children:"Active"}),e("button",{className:"dropdown-item",onClick:()=>u(t.id,0),children:"Deactive"})]})]})}),e("td",{children:a("div",{className:"dropdown mb-4",children:[e("button",{className:`btn btn-${t.role&&t.role==1?"warning":"info"} dropdown-toggle`,type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t.role&&t.role==1?"Admin":"User"}),a("div",{className:"dropdown-menu animated--fade-in","aria-labelledby":"dropdownMenuButton",children:[e("button",{onClick:()=>w(t.id,1),className:"dropdown-item",children:"Assign Admin Role"}),e("button",{onClick:()=>w(t.id,0),className:"dropdown-item",children:"Remove Admin Role"})]})]})}),e("td",{children:a("div",{className:"dropdown mb-4",children:[e("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Action"}),a("div",{className:"dropdown-menu animated--fade-in","aria-labelledby":"dropdownMenuButton",children:[e(y,{className:"dropdown-item",href:route("admin.users.edit",t.id),children:"Edit"}),e("button",{onClick:()=>B(t.id),className:"dropdown-item",children:"Delete"})]})]})})]},t.id))})]})}),e("div",{className:"d-flex justify-content-center",children:e("ul",{className:"pagination",children:Array(Math.ceil(b.length/i)).fill(0).map((t,d)=>e("li",{className:`page-item ${h===d+1?"active":""}`,children:e("button",{className:"page-link",onClick:()=>D(d+1),children:d+1})},d))})})]})]})]}),M&&e(j,{show:!0,onClose:()=>l(!1),children:e("div",{className:"modal-dialog",children:a("div",{className:"modal-content border-0",children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Confirm Delete"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:"Are you sure you want to delete?"}),a("div",{className:"modal-footer",children:[e("button",{className:"btn btn-danger",onClick:L,children:"Yes"}),e("button",{className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"})]})]})})})]})};F.layout=s=>e(P,{children:s});export{F as default};
