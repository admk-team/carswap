import{r,W as M,j as a,a as e}from"./app-48a5be93.js";import{I as i}from"./InputLabel-44929478.js";import{N as z}from"./NabBar2-baad8783.js";import{F as B}from"./Footer-1ce1594c.js";import{U as W}from"./user-icon-4fd58570.js";import{T as m}from"./TextInput-385d24d9.js";import{I as p}from"./InputError-6bb6e204.js";import"./bell-6fd89589.js";import"./index-1353952f.js";import"./index-335c1fe4.js";function $({auth:l,success:R,errors:n}){const u=r.useRef(),h=r.useRef(),[P,f]=r.useState(!1),[j,w]=r.useState(!1),[E,x]=r.useState(!1),[F,g]=r.useState(!1);r.useState(!1);const[L,N]=r.useState(!1);r.useState(!1),r.useState(""),r.useState("");const[v,b]=r.useState(""),[A,y]=r.useState(!1),{data:t,setData:o,post:C,put:T,reset:d,processing:V,recentlySuccessful:D}=M({first_name:l.user.first_name||"",last_name:l.user.last_name||"",phone_no:l.user.phone_no||"",address:l.user.address||"",city:l.user.city||"",state:l.user.state||"",email:l.user.email||"",image:l.user.image||"",current_password:"",password:"",password_confirmation:""});r.useEffect(()=>{b("/storage/"+t.image)},[]);function I(s){b(URL.createObjectURL(s.target.files[0])),y(!0),o("image",s.target.files[0])}function c(){C(route("user.updateProfile")),y(!1)}function U(s){s.preventDefault(),C(route("user.update"),{preserveScroll:!0,onSuccess:()=>d(),onError:k=>{var _,S;k.password&&(d("password","password_confirmation"),(_=h.current)==null||_.focus()),k.current_password&&(d("current_password"),(S=u.current)==null||S.focus())}})}return a("div",{children:[e(z,{auth:l}),e("div",{className:"mx-auto max-w-screen-xl w-full h-full mt-10 ",children:a("div",{className:"grid grid-cols-12 gap-4 mt-7 p-4",children:[a("div",{className:"col-span-12 md:col-span-6",children:[a("div",{className:"flex flex-col",children:[e("p",{className:"font-black text-gray-950 text-2xl",children:"Edit Profile"}),n&&n.success?e("p",{className:"alert alert-success alert-dismissible fade show",children:n.success}):"",n&&n.failed?e("p",{className:"alert alert-success alert-dismissible fade show",children:n.failed}):"",e("p",{className:"text-gray-600 text-xl",children:"Hello User, where do you want to apply the changes?"}),a("form",{className:"row g-3",method:"post",encType:"multipart/form-data",children:[a("div",{className:"flex flex-col items-start mt-4 relative transform hover:scale-110 transition-all duration-200",children:[e("input",{className:"absolute top-0 left-0 w-full h-full opacity-0 z-10",type:"file",name:"image",onChange:I}),e("img",{src:v||W,className:"w-80 h-80 object-cover shadow-md hover:shadow-lg rounded",alt:"Profile Picture"})]}),A&&e("div",{className:"flex col-12",children:e("button",{type:"button",onClick:()=>c(),className:"text-center underline py-2 px-3 bg-green-500 rounded text-white",children:"Upload Photo Now"})})]})]}),j?e("div",{className:"mt-3 border p-4",children:a("form",{className:"row g-3",method:"post",children:[a("div",{className:"flex flex-col",children:[e("label",{children:"Edit Profile Name "}),e("label",{children:"First Name "}),e("input",{type:"text",name:"first_name",className:"border border-gray-300 p-1 mt-1",value:t.first_name,onChange:s=>o("first_name",s.target.value)}),e("label",{children:"Last Name "}),e("input",{type:"text",id:"profile",className:"border border-gray-300 p-1 mt-1",value:t.last_name,onChange:s=>o("last_name",s.target.value)})]}),a("div",{className:"flex justify-between w-full mt-2",children:[e("button",{type:"button",onClick:()=>c(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>w(!1),children:"Cancel Change"})]})]})}):a("div",{className:"flex flex-wrap justify-between mt-3",children:[a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex flex-wrap gap-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),e("p",{className:"text-gray-950",children:"Profile Name"})]}),e("p",{className:"mx-4",children:l&&l.user?l.user.first_name+" "+l.user.last_name:""})]}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>w(!0),children:"Edit Profile"})]}),e("hr",{className:"bg-gray-800 mt-3"}),E?e("div",{className:"mt-3 border p-4",children:a("form",{className:"row g-3",method:"post",children:[a("div",{className:"flex flex-col",children:[e("label",{children:"Edit Email Address"}),e("input",{className:"border border-gray-300 p-2 mt-1",value:t.email,onChange:s=>o("email",s.target.value)})]}),a("div",{className:"flex justify-between w-full mt-2",children:[e("button",{type:"button",onClick:()=>c(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>x(!1),children:"Cancel Change"})]})]})}):a("div",{className:"flex flex-wrap justify-between mt-3",children:[a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex flex-wrap gap-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),e("p",{className:"text-gray-950",children:"Email Address"})]}),e("p",{className:"mx-4",children:l&&l.user?l.user.email:""})]}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>x(!0),children:"Edit Profile"})]}),e("hr",{className:"bg-gray-800 mt-3"}),F?e("div",{className:"mt-3 border p-4",children:a("form",{className:"row g-3",method:"post",children:[a("div",{className:"flex flex-col",children:[e("label",{children:"Edit Phone Number"}),e("input",{value:t.phone_no,onChange:s=>o("phone_no",s.target.value),className:"border border-gray-300 p-2 mt-1"})]}),a("div",{className:"flex justify-between w-full mt-2",children:[e("button",{type:"button",onClick:()=>c(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>g(!1),children:"Cancel Change"})]})]})}):a("div",{className:"flex flex-wrap justify-between mt-3",children:[a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex flex-wrap gap-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),e("p",{className:"text-gray-950",children:"Phone Number"})]}),e("p",{className:"mx-4",children:l&&l.user?l.user.phone_no:""})]}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>g(!0),children:"Edit Profile"})]}),e("hr",{className:"bg-gray-800 mt-3"}),L?e("div",{className:"mt-3 border p-4",children:a("form",{className:"row g-3",method:"post",onSubmit:c,children:[a("div",{className:"flex flex-col",children:[e("label",{children:"Edit Address"}),e("input",{className:"border border-gray-300 p-2 mt-1",value:t.address,onChange:s=>o("address",s.target.value)})]}),a("div",{className:"flex flex-col",children:[e("label",{children:"City"}),e("input",{className:"border border-gray-300 p-2 mt-1",value:t.city,onChange:s=>o("city",s.target.value)})]}),a("div",{className:"flex flex-col",children:[e("label",{children:"State"}),e("input",{className:"border border-gray-300 p-2 mt-1",value:t.state,onChange:s=>o("state",s.target.value)})]}),a("div",{className:"flex justify-between w-full mt-2",children:[e("button",{type:"button",onClick:()=>c(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>N(!1),children:"Cancel Change"})]})]})}):a("div",{className:"flex flex-wrap justify-between mt-3",children:[a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex flex-wrap gap-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),e("p",{className:"text-gray-950",children:"Address "})]}),e("p",{className:"mx-4",children:l&&l.user?l.user.address:""})]}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>N(!0),children:"Edit Profile"})]})]}),e("div",{className:"col-span-12 md:col-span-6 mt-5",children:e("div",{className:"flex flex-col mx-3 h-5/6",children:a("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e("h2",{className:"text-lg font-bold text-gray-950 mb-3",children:"Security:"}),e("p",{className:"text-gray-700",children:"User, here is your account security:"}),e("hr",{className:"bg-gray-800 mt-3"}),P?e("div",{className:"mt-3",children:a("form",{onSubmit:U,className:"mt-6 space-y-6",children:[a("div",{children:[e(i,{htmlFor:"current_password",value:"Current Password"}),e(m,{id:"current_password",ref:u,value:t.current_password,onChange:s=>o("current_password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e(p,{message:n.current_password,className:"mt-2"})]}),a("div",{children:[e(i,{htmlFor:"password",value:"New Password"}),e(m,{id:"password",ref:h,value:t.password,onChange:s=>o("password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(p,{message:n.password,className:"mt-2"})]}),a("div",{children:[e(i,{htmlFor:"password_confirmation",value:"Confirm Password"}),e(m,{id:"password_confirmation",value:t.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(p,{message:n.password_confirmation,className:"mt-2"})]}),a("div",{className:"flex justify-between w-full mt-2",children:[e("button",{type:"button",onClick:()=>c(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded",children:"Save"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>f(!1),children:"Cancel Change"})]})]})}):a("div",{className:"flex flex-wrap justify-between mt-3",children:[e("p",{children:"Password"}),e("p",{className:"text-emerald-600 hover:text-emerald-800 cursor-pointer",onClick:()=>f(!0),children:"Change Password"})]})]})})})]})}),e(B,{})]})}export{$ as default};
