import{a as e,r as d,W as v,j as t,F as N,d as j,b as R}from"./app-b145696a.js";import{N as z}from"./NabBar2-5017e997.js";import{U as W}from"./user-icon-4fd58570.js";import{d as D}from"./index-890cd398.js";import{u as E}from"./index.es-5a909d69.js";import G from"./Footer-31a5146b.js";import"./bell-6fd89589.js";import"./headerlogo-80979cd7.js";const H=({activeTab:s,onTabClick:x})=>{const n=[{id:0,label:"My Listed Cars"},{id:1,label:"My Swapped Cars"},{id:2,label:"Pending Approval"},{id:3,label:"Approved Cars"}],c=i=>{x(i)};return e("div",{className:"bg-black",children:e("div",{className:"grid grid-cols-2 md:grid-cols-4",children:n.map(i=>e("button",{className:`${s===i.id?"bg-green-500":"bg-black"} text-white p-3 border border-gray-300`,onClick:()=>c(i.id),children:i.label},i.id))})})},K=({pendings:s})=>{console.log(s);const[x,n]=d.useState(1),[c,i]=d.useState([]),m=3;d.useEffect(()=>{i(s)},[s]),v();const h=x*m,g=h-m,p=c.slice(g,h),r=a=>{n(a)};return t(N,{children:[e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"Pending approval"})}),p&&p.length>0?p.map((a,o)=>e("div",{className:"px-12 pt-2 pb-4",children:t("div",{className:"flex flex-col  bg-white border-1 md:flex-row md:max-w-xl hover:bg-gray-100 ",children:[e("img",{className:"object-cover md:h-auto md:w-48 ",src:"/storage"+(a==null?void 0:a.images[0]),alt:""}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 ",children:a==null?void 0:a.title}),t("div",{className:"flex flex-wrap",children:[e("span",{className:"me-2",children:e("strong",{children:"Status"})}),e("h6",{className:"px-2 py-1 text-base font-medium text-center text-white bg-yellow-500  self-end",children:"Pending"})]}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["$",a==null?void 0:a.price]}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2  font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2  text-gray-800",children:"Engine"}),e("th",{className:"px-2  text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:a==null?void 0:a.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[a==null?void 0:a.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[a==null?void 0:a.mileage," (MI)"]})]})]})})})]})]})})):e("p",{className:"text-center",children:"No record found"}),e("div",{className:"d-flex justify-content-center pb-3",children:e("ul",{className:"pagination",children:Array(Math.ceil(c.length/m)).fill(0).map((a,o)=>e("li",{className:`page-item ${x===o+1?"active":""}`,children:e("button",{className:"page-link",onClick:()=>r(o+1),children:o+1})},o))})})]})},X=({approved:s})=>{const[x,n]=d.useState(1),[c,i]=d.useState([]),m=3;d.useEffect(()=>{i(s)},[s]),v();const h=x*m,g=h-m,p=c.slice(g,h);return t(N,{children:[e("div",{className:"pt-4 pl-4",children:e("h1",{className:"font-extrabold text-black",children:"Approved Cars:"})}),p.map((r,a)=>e("div",{className:"px-12 pt-2 pb-4",children:t("div",{className:"flex flex-col  bg-white border-1 md:flex-row md:max-w-xl hover:bg-gray-100 ",children:[e("img",{className:"object-cover md:h-auto md:w-48 ",src:"/storage"+(r==null?void 0:r.images[0]),alt:""}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 ",children:r==null?void 0:r.title}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["$",r==null?void 0:r.price]}),t("div",{className:"mt-1",children:[e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2  font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2  text-gray-800",children:"Engine"}),e("th",{className:"px-2  text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:r==null?void 0:r.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[r==null?void 0:r.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[r==null?void 0:r.mileage," (MI)"]})]})]})}),e("div",{className:"flex flex-wrap mt-2 mx-2",children:e("h6",{className:"mt-2 px-2 py-1 text-base font-medium text-center text-white bg-blue-500 hover:bg-green-600 self-end",children:"Approved"})})]})]})]})}))]})},_="/build/assets/card1-dce6c47d.jpg",Y="/build/assets/Swapped-9d1678b2.png",q=()=>t(N,{children:[e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"Swapped Cars"})}),e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"My Cars"})}),t("div",{className:"px-4  mb-2 flex flex-wrap justify-center",children:[t("div",{className:"max-w-xs mx-auto bg-white border m-2",children:[e("img",{className:"w-full h-auto",src:_,alt:"Product"}),t("div",{className:"p-2",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900",children:"2022 Toyota Revo"}),e("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:"$ 43496.10"}),e("div",{className:"h-1 bg-gray-500 my-2"}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"Brand New"}),e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"3000CC"}),e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"35000(MI)"})]})]})})})]})]}),e("div",{className:"flex items-center justify-center",children:e("img",{className:"w-10 h-10",src:Y,alt:""})}),t("div",{className:"max-w-xs mx-auto bg-white border m-2",children:[e("img",{className:"w-full h-auto",src:_,alt:"Product"}),t("div",{className:"p-2",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900",children:"2022 Toyota Revo"}),e("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:"$ 43496.10"}),e("div",{className:"h-1 bg-gray-500 my-2"}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"Brand New"}),e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"3000CC"}),e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:"35000(MI)"})]})]})})})]})]})]})]}),J=({cars:s,success:x,auth:n})=>{var M;const[c,i]=d.useState(1),[m,h]=d.useState([]),g=3;d.useEffect(()=>{h(s)},[s]);const{get:p}=v(),r=c*g,a=r-g,o=m.slice(a,r),w=l=>{i(l)},[u,f]=d.useState(!1),[C,P]=d.useState(""),A=l=>{P(l),f(!0)},T=()=>{C!==null&&p(route("user.deleteCar",C)),f(!1)},$=()=>{f(!1),P("")},F={public_key:"FLWPUBK_TEST-5362dd26662af2fa2bb22c99f29ab2c3-X",tx_ref:`${(M=n==null?void 0:n.user)==null?void 0:M.id}-${Date.now().toString()}`,amount:100,currency:"NGN",payment_options:"card,mobilemoney,ussd",customer:{email:n!=null&&n.user?n.user.email:"",phone_number:n!=null&&n.user?n.user.phone_no:"",name:n!=null&&n.user?n.user.first_name+" "+n.user.last_name:""},customizations:{title:"Car Swap Payment",description:"Payment for items in cart",logo:"https://st2.depositphotos.com/4403291/7418/v/450/depositphotos_74189661-stock-illustration-online-shop-log.jpg"}},[y,L]=d.useState(null),[k,U]=d.useState(null);d.useEffect(()=>{y!==null&&S()},[y]);const S=()=>{y!==null&&D.Inertia.post(route("user.storePayment"),{paymentData:y,carId:k})},B=E(F);return console.log("carId :",k),t(N,{children:[e("div",{className:"pt-4 pl-4",children:e("h1",{className:"font-extrabold text-black",children:"My Listed Cars"})}),o&&o.length>0?o.map((l,b)=>e("div",{className:"px-4 pt-2 pb-3",children:t("div",{className:"flex flex-col bg-white border-1 md:flex-row md:max-w-full hover:bg-gray-100",children:[e("img",{className:"object-cover md:h-auto md:w-48",src:"/storage"+(l==null?void 0:l.images[0]),alt:""}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900",children:l==null?void 0:l.title}),l!=null&&l.payment?t("div",{className:"flex gap-2",children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Payment Status"})}),e("button",{className:"px-2 py-1 text-white bg-green-500 rounded",children:"Paid"})]}):t("div",{className:"flex gap-2",children:[e("span",{className:"text-red-700 me-3",children:e("strong",{children:"You wouldn't make payment yet"})}),e("button",{className:"px-2 py-1 text-white bg-yellow-500 ",onClick:()=>{B({callback:O=>{L(O),U(l.id),setTimeout(()=>{S()},3e3)},onClose:()=>{}})},children:"Make Payment"})]}),l!=null&&l.status&&l.status=="1"?t("div",{children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Status"})}),e("button",{className:"mt-2 px-2 py-1 text-white bg-green-500 ",children:"Approved"})]}):t("div",{children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Status"})}),e("button",{className:"mt-2 px-2 py-1 text-white bg-yellow-500",children:"Pending"})]}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["$",l==null?void 0:l.price]}),t("div",{className:"mt-1",children:[e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:l==null?void 0:l.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.mileage," (MI)"]})]})]})}),t("div",{className:"flex flex-wrap mt-2 mx-2",children:[e(j,{href:route("user.editcar",l.slug),className:"mt-2 px-2 py-1 text-base font-medium text-center text-white bg-green-500 hover:bg-green-600 self-end",children:"Edit"}),e("button",{className:"mx-2 px-2 py-1 text-base font-medium text-center text-white bg-gray-950 hover:bg-green-600 self-end",onClick:()=>A(l.slug),children:"Delete"})]})]})]})]})},b)):e("p",{className:"text-center",children:"No record found"}),u&&e("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:t("div",{className:"bg-white w-1/2 p-6 rounded-lg shadow-lg",children:[e("p",{className:"text-center text-xl font-bold text-gray-900 mb-4",children:"Are you sure you want to delete?"}),t("div",{className:"flex justify-center",children:[e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg",onClick:T,children:"Confirm"}),e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg",onClick:$,children:"Cancel"})]})]})}),e("div",{className:"d-flex justify-content pb-3",children:e("ul",{className:"pagination flex justify-center mt-4 ",children:Array(Math.ceil(m.length/g)).fill(0).map((l,b)=>e("li",{className:`page-item ${c===b+1?"active":""}`,children:e("button",{className:`page-link px-3 py-1 ${c===b+1?"bg-emerald-500 text-white":"text-black"}`,onClick:()=>w(b+1),children:b+1})},b))})})]})},Q=({auth:s,cars:x,pendings:n,approved:c})=>{const[i,m]=d.useState(0),h=g=>{m(g)};return e(N,{children:t("div",{className:"flex flex-col md:flex-row",children:[e("div",{className:"p-4",children:t("div",{className:"bg-white border border-gray-300 rounded-lg shadow-md p-4 mb-4",children:[t("div",{className:"flex flex-col items-center mb-4",children:[e("img",{src:s&&s.user&&s.user.image?"/storage/"+s.user.image:W,alt:"Profile",className:"w-44 h-44 "}),e("h2",{className:"text-lg text-gray-900 font-medium mt-2",children:s&&s.user?s.user.first_name+" "+s.user.last_name:"N/A"}),t("p",{className:"text-gray-900 mt-1",children:[e("b",{children:"Email:"})," ",s&&s.user?s.user.email:"N/A"]}),t("p",{className:"text-gray-900 mt-1",children:[e("b",{children:"Contact:"})," ",s&&s.user?s.user.phone_no:"N/A"]})]}),e("div",{className:"flex flex-col",children:e(j,{href:route("user.editProfile"),className:"underline hover: text-dark font-medium mb-2 text-center",children:"Edit Profile"})})]})}),e("div",{className:"md:w-2/3 p-4",children:t("div",{className:"bg-white border border-gray-300 rounded-lg shadow-md",children:[e(H,{activeTab:i,onTabClick:h}),i===0&&e(J,{cars:x,auth:s}),i===1&&e(q,{}),i===2&&e(K,{pendings:n}),i===3&&e(X,{approved:c})]})})]})})},ne=({auth:s,success:x,cars:n,error:c,pendings:i,approved:m})=>{var f;const[h,g]=d.useState(""),[p,r]=d.useState(""),a={public_key:"FLWPUBK_TEST-5362dd26662af2fa2bb22c99f29ab2c3-X",tx_ref:`${(f=s==null?void 0:s.user)==null?void 0:f.id}-${Date.now().toString()}`,amount:100,currency:"NGN",payment_options:"card,mobilemoney,ussd",customer:{email:s!=null&&s.user?s.user.email:"",phone_number:s!=null&&s.user?s.user.phone_no:"",name:s!=null&&s.user?s.user.first_name+" "+s.user.last_name:""},customizations:{title:"Car Swap Payment",description:"Payment for items in cart",logo:"https://st2.depositphotos.com/4403291/7418/v/450/depositphotos_74189661-stock-illustration-online-shop-log.jpg"}};E(a);const[o,w]=d.useState(null);d.useEffect(()=>{o!==null&&u()},[o]);const u=()=>{o!==null&&D.Inertia.post(route("user.storePayment"),{paymentData:o})};return d.useEffect(()=>{x&&g(x),c&&r(c)},[]),t(N,{children:[e(R,{title:"User | Dashboard"}),e(z,{auth:s}),t("div",{className:"mx-auto max-w-screen-xl w-full h-full mt-10 ",children:[e("h1",{className:"font-bold text-xl text-dark sm:text-lg md:text-xl lg:text-2xl mb-2",children:"My Dashboard"}),h&&e("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:e("span",{className:"block sm:inline",children:h})}),p&&e("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e("span",{className:"block sm:inline",children:p})}),e(Q,{auth:s,cars:n,pendings:i,approved:m})]}),e(G,{auth:s})]})};export{ne as default};
