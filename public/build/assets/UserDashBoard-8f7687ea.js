import{a as e,r,W as j,j as t,F as v,d as A,b as G}from"./app-175e8514.js";import{N as K}from"./NabBar2-22161aa9.js";import{U as X}from"./user-icon-4fd58570.js";import{d as $}from"./index-558f4f74.js";import{u as q}from"./index.es-4a8b9038.js";import J from"./Footer-8ded8c53.js";import"./navlogo-76d40c46.js";import"./bell-6fd89589.js";const Q=({activeTab:a,onTabClick:o})=>{const i=[{id:0,label:"My Listed Cars"},{id:1,label:"My Swapped Cars"},{id:2,label:"Pending Approval"},{id:3,label:"Approved Cars"}],x=h=>{o(h)};return e("div",{className:"bg-black",children:e("div",{className:"grid grid-cols-2 md:grid-cols-4",children:i.map(h=>e("button",{className:`${a===h.id?"bg-green-500":"bg-black"} text-white p-3 border border-gray-300`,onClick:()=>x(h.id),children:h.label},h.id))})})},V=({pendings:a})=>{const[o,i]=r.useState(1),[x,h]=r.useState([]),p=3;r.useEffect(()=>{h(a)},[a]),j();const d=o*p,f=d-p,m=x.slice(f,d),b=l=>{i(l)};return t(v,{children:[e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"Pending approval"})}),m&&m.length>0?m.map((l,n)=>e("div",{className:"px-12 pt-2 pb-4",children:t("div",{className:"flex flex-col  bg-white border-1 md:flex-row md:max-w-xl hover:bg-gray-100 ",children:[e("img",{className:"object-cover md:h-auto md:w-48 ",src:"/storage"+(l==null?void 0:l.images[0]),alt:""}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 line-clamp-1",children:l==null?void 0:l.title}),t("div",{className:"flex flex-wrap",children:[e("span",{className:"me-2",children:e("strong",{children:"Status"})}),e("h6",{className:"px-2 py-1 text-base font-medium text-center text-white bg-yellow-500  self-end",children:"Pending"})]}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["₦ ",l==null?void 0:l.price]}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2  font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2  text-gray-800",children:"Engine"}),e("th",{className:"px-2  text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:l==null?void 0:l.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.mileage," (MI)"]})]})]})})})]})]})})):e("p",{className:"text-center",children:"No record found"}),e("div",{className:"d-flex justify-content pb-3",children:e("ul",{className:"pagination flex justify-center mt-4 ",children:Array(Math.ceil(x.length/p)).fill(0).map((l,n)=>e("li",{className:`page-item ${o===n+1?"active":""}`,children:e("button",{className:`page-link px-3 py-1 ${o===n+1?"bg-emerald-500 text-white":"text-black"}`,onClick:()=>b(n+1),children:n+1})},n))})})]})},Y=({approved:a})=>{const[o,i]=r.useState(1),[x,h]=r.useState([]),p=3;r.useEffect(()=>{h(a)},[a]),j();const d=o*p,f=d-p,m=x.slice(f,d),b=l=>{i(l)};return t(v,{children:[e("div",{className:"pt-4 pl-4",children:e("h1",{className:"font-extrabold text-black",children:"Approved Cars:"})}),m&&m.length>0?m.map((l,n)=>e("div",{className:"px-12 pt-2 pb-4",children:t("div",{className:"flex flex-col bg-white border-1 md:flex-row md:max-w-full hover:bg-gray-100",children:[e("img",{className:"object-cover md:h-auto md:w-48 ",src:"/storage"+(l==null?void 0:l.images[0]),alt:""}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 line-clamp-1",children:l==null?void 0:l.title}),e("div",{className:"flex flex-wrap",children:t("div",{children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Status"})}),e("button",{className:"mt-2 px-2 py-1 text-white bg-green-500 ",children:"Approved"})]})}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["₦ ",l==null?void 0:l.price]}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2  font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2  text-gray-800",children:"Engine"}),e("th",{className:"px-2  text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:l==null?void 0:l.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[l==null?void 0:l.mileage," (MI)"]})]})]})})})]})]})})):e("p",{className:"text-center",children:"No record found"}),e("div",{className:"d-flex justify-content pb-3",children:e("ul",{className:"pagination flex justify-center mt-4 ",children:Array(Math.ceil(x.length/p)).fill(0).map((l,n)=>e("li",{className:`page-item ${o===n+1?"active":""}`,children:e("button",{className:`page-link px-3 py-1 ${o===n+1?"bg-emerald-500 text-white":"text-black"}`,onClick:()=>b(n+1),children:n+1})},n))})})]})},Z="/build/assets/Swapped-9d1678b2.png",I=({swaped:a,cars:o})=>{const[i,x]=r.useState(1),[h,p]=r.useState([]),d=2;r.useEffect(()=>{p(a)},[a]);const f=i*d,m=f-d,b=a.slice(m,f),l=n=>{x(n)};return t(v,{children:[e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"Swapped Cars"})}),e("div",{className:"pt-3 pl-12 ",children:e("h1",{className:"font-extrabold text-black",children:"My Cars"})}),b&&b.length>0?b.map((n,g)=>{var w,C,P,k,N,u;console.log("sc :  ",n),console.log("all c :  ",o);let c=o.find(M=>M.id==parseInt(n==null?void 0:n.mycar_id));return t(v,{children:[" ",t("div",{className:"",children:[t("div",{className:"px-4  mb-2 flex flex-wrap justify-center",children:[t("div",{className:"w-80 mx-auto bg-white border m-2",children:[e("img",{className:"w-full h-48 object-cover",src:"/storage"+(c==null?void 0:c.images[0]),alt:"Product"}),t("div",{className:"p-2",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 line-clamp-1",children:c==null?void 0:c.title}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["₦ ",c==null?void 0:c.price]}),e("div",{className:"h-1 bg-gray-500 my-2"}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:c==null?void 0:c.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[c==null?void 0:c.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[c==null?void 0:c.mileage," (MI)"]})]})]})})})]})]}),e("div",{className:"flex items-center justify-center",children:e("img",{className:"w-10 h-10",src:Z,alt:""})}),t("div",{className:"w-80 mx-auto bg-white border m-2",children:[e("img",{className:"w-full h-48 object-cover",src:"/storage"+((w=n.car)==null?void 0:w.images.split(",")[0]),alt:"Product"}),t("div",{className:"p-2",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900 line-clamp-1",children:(C=n.car)==null?void 0:C.title}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["₦  ",(P=n.car)==null?void 0:P.price]}),e("div",{className:"h-1 bg-gray-500 my-2"}),e("div",{className:"mt-1",children:e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:(k=n.car)==null?void 0:k.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[(N=n.car)==null?void 0:N.engine_capacity,"CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[(u=n.car)==null?void 0:u.mileage,"(MI)"]})]})]})})})]})]})]}),e("hr",{})]},g)," "]})}):e("p",{className:"text-center",children:"No record found"}),e("div",{className:"d-flex justify-content pb-3",children:e("ul",{className:"pagination flex justify-center mt-4 ",children:Array(Math.ceil(a.length/d)).fill(0).map((n,g)=>e("li",{className:`page-item ${i===g+1?"active":""}`,children:e("button",{className:`page-link px-3 py-1 ${i===g+1?"bg-emerald-500 text-white":"text-black"}`,onClick:()=>l(g+1),children:g+1})},g))})})]})},ee=({cars:a,success:o,auth:i,payment_data:x})=>{var E;const[h,p]=r.useState(1),[d,f]=r.useState([]),m=3;r.useEffect(()=>{f(a)},[a]);const{get:b}=j(),l=h*m,n=l-m,g=d.slice(n,l),c=s=>{p(s)},[w,C]=r.useState(!1),[P,k]=r.useState(!1),[N,u]=r.useState(""),M=s=>{u(s),C(!0)},F=s=>{u(s),k(!0)},L=()=>{N!==null&&b(route("user.deleteCar",N)),C(!1)},O=()=>{N!==null&&b(route("user.deleteCar",N)),k(!1)},T=()=>{C(!1),u("")},U=()=>{k(!1),u("")},H={public_key:x.public_key?x.public_key:"FLWPUBK-e7cf5d9650bd2e8e4e65358e6248a734-X",tx_ref:`${(E=i==null?void 0:i.user)==null?void 0:E.id}-${Date.now().toString()}`,amount:x.post_car_price?x.post_car_price:100,currency:"NGN",payment_options:"card,mobilemoney,ussd",customer:{email:i!=null&&i.user?i.user.email:"",phone_number:i!=null&&i.user?i.user.phone_no:"",name:i!=null&&i.user?i.user.first_name+" "+i.user.last_name:""},customizations:{title:"Car Swap Payment",description:"Payment for items in cart",logo:"https://st2.depositphotos.com/4403291/7418/v/450/depositphotos_74189661-stock-illustration-online-shop-log.jpg"}},[S,_]=r.useState(null),[z,B]=r.useState(null);r.useEffect(()=>{S!==null&&D()},[S]);const D=()=>{S!==null&&$.Inertia.post(route("user.storePayment"),{paymentData:S,carId:z})},R=q(H);return t(v,{children:[e("div",{className:"pt-4 pl-4",children:e("h1",{className:"font-extrabold text-black",children:"My Listed Cars"})}),g&&g.length>0?g.map((s,y)=>e("div",{className:"px-4 pt-2 pb-3",children:t("div",{className:"flex flex-col bg-white border-1 md:flex-row md:max-w-full hover:bg-gray-100",children:[t("div",{className:"relative h-150 ",children:[e("img",{className:"h-[250px] object-cover  md:w-[15rem]",src:"/storage"+(s==null?void 0:s.images[0]),alt:""}),e("div",{className:"absolute top-2 right-2 bg-emerald-600 rounded p-1 shadow-2xl",children:e("p",{className:"font-semibold text-black text-white",children:s==null?void 0:s.type})})]}),t("div",{className:"flex flex-col justify-between p-2 leading-normal",children:[e("h5",{className:"mb-1 text-2xl font-bold text-gray-900",children:s==null?void 0:s.title}),s!=null&&s.payment?t("div",{className:"flex gap-2",children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Payment Status"})}),e("button",{className:"px-2 py-1 text-white bg-green-500 rounded",children:"Paid"})]}):t("div",{className:"flex gap-2",children:[e("span",{className:"text-red-700 me-3",children:e("strong",{children:"Make payment "})}),e("button",{className:"px-2 py-1 text-white bg-yellow-500 ",onClick:()=>{R({callback:W=>{_(W),B(s.id),setTimeout(()=>{D()},3e3)},onClose:()=>{}})},children:"Make Payment"})]}),s!=null&&s.status&&s.status=="1"?t("div",{children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Status"})}),e("button",{className:"mt-2 px-2 py-1 text-white bg-green-500 ",children:"Approved"})]}):t("div",{children:[e("span",{className:"text-gray-900 me-3",children:e("strong",{children:"Status"})}),e("button",{className:"mt-2 px-2 py-1 text-white bg-yellow-500",children:"Pending"})]}),t("h5",{className:"text-2xl font-bold dark:text-white text-amber-500",children:["₦ ",s==null?void 0:s.price]}),t("div",{className:"mt-1",children:[e("table",{className:"w-full",children:t("tbody",{children:[t("tr",{children:[e("th",{className:"px-2 font-bold-300 text-gray-800",children:"Condition"}),e("th",{className:"px-2 text-gray-800",children:"Engine"}),e("th",{className:"px-2 text-gray-800",children:"Mileage"})]}),t("tr",{children:[e("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:s==null?void 0:s.condition}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[s==null?void 0:s.engine_capacity," CC"]}),t("th",{className:"px-2 text-sm sm:text-base text-gray-800",children:[s==null?void 0:s.mileage," (MI)"]})]})]})}),t("div",{className:"flex flex-wrap mt-2 mx-2",children:[e(A,{href:route("user.editcar",s.slug),className:"mt-2 px-2 py-1 text-base font-medium text-center text-white bg-green-500 hover:bg-green-600 self-end",children:"Edit"}),e("button",{className:"mx-2 px-2 py-1 text-base font-medium text-center text-white bg-gray-950 hover:bg-green-600 self-end",onClick:()=>M(s.slug),children:"Delete"}),e("button",{className:"mx-2 px-2 py-1 text-base font-medium text-center text-white bg-red-600 hover:bg-red-950 self-end",onClick:()=>F(s.slug),children:"Sold"})]})]})]})]})},y)):e("p",{className:"text-center",children:"No record found"}),w&&e("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.5)]",children:t("div",{className:"bg-white w-1/4 p-6 rounded-lg shadow-lg",children:[e("p",{className:"text-center text-xl font-bold text-gray-900 mb-4",children:"Are you sure you want to delete?"}),t("div",{className:"flex justify-center",children:[e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg",onClick:L,children:"Confirm"}),e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg",onClick:T,children:"Cancel"})]})]})}),P&&e("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.5)]",children:t("div",{className:"bg-white w-1/4 p-6 rounded-lg shadow-lg",children:[e("p",{className:"text-center text-xl font-bold text-gray-900 mb-4",children:"Have you sold this car?"}),t("div",{className:"flex justify-center",children:[e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg",onClick:O,children:"Confirm"}),e("button",{className:"mx-2 px-4 py-2 text-base font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg",onClick:U,children:"Cancel"})]})]})}),e("div",{className:"d-flex justify-content pb-3",children:e("ul",{className:"pagination flex justify-center mt-4 ",children:Array(Math.ceil(d.length/m)).fill(0).map((s,y)=>e("li",{className:`page-item ${h===y+1?"active":""}`,children:e("button",{className:`page-link px-3 py-1 ${h===y+1?"bg-emerald-500 text-white":"text-black"}`,onClick:()=>c(y+1),children:y+1})},y))})})]})},te=({auth:a,cars:o,pendings:i,approved:x,swaped:h,payment_data:p})=>{var b,l,n;const[d,f]=r.useState(0),m=g=>{f(g)};return e(v,{children:t("div",{className:"flex flex-col md:flex-row",children:[e("div",{className:"p-4",children:t("div",{className:"bg-white border border-gray-300 rounded-lg shadow-md p-4 mb-4",children:[t("div",{className:"flex flex-col items-center mb-4",children:[e("img",{src:a&&a.user&&a.user.image?"/storage/"+a.user.image:X,alt:"Profile",className:"w-44 h-44 "}),e("h2",{className:"text-lg text-gray-900 font-medium mt-2",children:a!=null&&a.user.last_name&&a.user.last_name?((b=a.user)==null?void 0:b.first_name)+" "+((l=a.user)==null?void 0:l.last_name):(n=a.user)==null?void 0:n.first_name}),t("p",{className:"text-gray-900 mt-1",children:[e("b",{children:"Email:"})," ",a&&a.user?a.user.email:"N/A"]}),t("p",{className:"text-gray-900 mt-1",children:[e("b",{children:"Contact:"})," ",a&&a.user?a.user.phone_no:"N/A"]})]}),e("div",{className:"flex flex-col",children:e(A,{href:route("user.editProfile"),className:"underline hover: text-dark font-medium mb-2 text-center",children:"Edit Profile"})})]})}),e("div",{className:"md:w-2/3 p-4",children:t("div",{className:"bg-white border border-gray-300 rounded-lg shadow-md",children:[e(Q,{activeTab:d,onTabClick:m}),d===0&&e(ee,{cars:o,auth:a,payment_data:p}),d===1&&e(I,{swaped:h,cars:o}),d===2&&e(V,{pendings:i}),d===3&&e(Y,{approved:x})]})})]})})},oe=({auth:a,success:o,cars:i,error:x,pendings:h,approved:p,swaped:d,payment_data:f})=>{const[m,b]=r.useState(""),[l,n]=r.useState(""),[g,c]=r.useState(null);r.useEffect(()=>{g!==null&&w()},[g]);const w=()=>{g!==null&&$.Inertia.post(route("user.storePayment"),{paymentData:g})};return r.useEffect(()=>{o&&b(o),x&&n(x)},[]),t(v,{children:[e(G,{title:"User | Dashboard"}),e(K,{auth:a}),t("div",{className:"mx-auto max-w-screen-xl w-full h-full mt-10 ",children:[e("h1",{className:"font-bold text-xl text-dark sm:text-lg md:text-xl lg:text-2xl mb-2",children:"My Dashboard"}),m&&e("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:e("span",{className:"block sm:inline",children:m})}),l&&e("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e("span",{className:"block sm:inline",children:l})}),e(te,{auth:a,cars:i,pendings:h,approved:p,swaped:d,payment_data:f})]}),e(J,{auth:a})]})};export{oe as default};
